import datetime

SATURDAY = 5
DAYS_IN_YEAR = 365
TRADE_DAYS_IN_YEAR = 250
NON_TRADE_DATES = {730122,
                   730150,
                   730151,
                   730152,
                   730153,
                   730154,
                   730157,
                   730158,
                   730159,
                   730160,
                   730161,
                   730241,
                   730242,
                   730243,
                   730244,
                   730245,
                   730395,
                   730396,
                   730397,
                   730398,
                   730399,
                   730486,
                   730507,
                   730508,
                   730509,
                   730510,
                   730511,
                   730514,
                   730515,
                   730516,
                   730517,
                   730518,
                   730606,
                   730607,
                   730608,
                   730609,
                   730612,
                   730759,
                   730760,
                   730761,
                   730762,
                   730763,
                   730851,
                   730852,
                   730853,
                   730892,
                   730893,
                   730894,
                   730895,
                   730896,
                   730899,
                   730900,
                   730901,
                   730902,
                   730903,
                   730971,
                   730972,
                   730973,
                   730976,
                   730977,
                   731123,
                   731124,
                   731125,
                   731126,
                   731127,
                   731130,
                   731216,
                   731245,
                   731246,
                   731249,
                   731250,
                   731251,
                   731252,
                   731253,
                   731336,
                   731337,
                   731340,
                   731341,
                   731342,
                   731343,
                   731344,
                   731489,
                   731490,
                   731491,
                   731494,
                   731495,
                   731581,
                   731599,
                   731600,
                   731601,
                   731602,
                   731603,
                   731606,
                   731607,
                   731608,
                   731704,
                   731705,
                   731706,
                   731707,
                   731708,
                   731855,
                   731858,
                   731859,
                   731860,
                   731861,
                   731949,
                   731984,
                   731985,
                   731986,
                   731987,
                   731988,
                   731991,
                   731992,
                   732068,
                   732069,
                   732070,
                   732071,
                   732072,
                   732222,
                   732223,
                   732224,
                   732225,
                   732226,
                   732313,
                   732314,
                   732341,
                   732342,
                   732343,
                   732344,
                   732345,
                   732432,
                   732433,
                   732434,
                   732435,
                   732436,
                   732586,
                   732587,
                   732588,
                   732589,
                   732590,
                   732677,
                   732678,
                   732679,
                   732726,
                   732727,
                   732728,
                   732729,
                   732730,
                   732797,
                   732798,
                   732799,
                   732800,
                   732803,
                   732950,
                   732951,
                   732952,
                   732953,
                   732954,
                   733041,
                   733042,
                   733078,
                   733079,
                   733080,
                   733083,
                   733084,
                   733136,
                   733163,
                   733164,
                   733202,
                   733300,
                   733314,
                   733315,
                   733316,
                   733317,
                   733318,
                   733408,
                   733409,
                   733433,
                   733434,
                   733435,
                   733436,
                   733437,
                   733503,
                   733528,
                   733555,
                   733556,
                   733681,
                   733682,
                   733685,
                   733686,
                   733687,
                   733688,
                   733773,
                   733818,
                   733819,
                   733820,
                   733821,
                   733822,
                   733867,
                   733895,
                   733937,
                   733938,
                   733939,
                   734037,
                   734038,
                   734039,
                   734046,
                   734049,
                   734050,
                   734051,
                   734052,
                   734140,
                   734170,
                   734171,
                   734172,
                   734175,
                   734176,
                   734231,
                   734232,
                   734259,
                   734294,
                   734392,
                   734413,
                   734414,
                   734415,
                   734416,
                   734417,
                   734504,
                   734505,
                   734525,
                   734526,
                   734527,
                   734528,
                   734529,
                   734595,
                   734596,
                   734597,
                   734623,
                   734624,
                   734676,
                   734777,
                   734778,
                   734779,
                   734780,
                   734781,
                   734869,
                   734870,
                   734871,
                   734910,
                   734911,
                   734912,
                   734913,
                   734914,
                   734962,
                   734963,
                   734987,
                   734988,
                   734989,
                   735029,
                   735030,
                   735031,
                   735130,
                   735131,
                   735142,
                   735143,
                   735144,
                   735145,
                   735148,
                   735234,
                   735264,
                   735267,
                   735268,
                   735269,
                   735270,
                   735330,
                   735354,
                   735355,
                   735386,
                   735484,
                   735507,
                   735508,
                   735509,
                   735512,
                   735513,
                   735599,
                   735600,
                   735647,
                   735648,
                   735649,
                   735652,
                   735653,
                   735694,
                   735719,
                   735771,
                   735844,
                   735845,
                   735872,
                   735873,
                   735876,
                   735877,
                   735878,
                   735964,
                   736002,
                   736003,
                   736004,
                   736005,
                   736006,
                   736058,
                   736086,
                   736124,
                   736125,
                   736222,
                   736223,
                   736240,
                   736241,
                   736242,
                   736243,
                   736244,
                   736331,
                   736356,
                   736359,
                   736360,
                   736361,
                   736362,
                   736422,
                   736423,
                   736450,
                   736478,
                   736479,
                   736604,
                   736605,
                   736606,
                   736607,
                   736608,
                   736695,
                   736740,
                   736741,
                   736744,
                   736745,
                   736746,
                   736789,
                   736790,
                   736814,
                   736815,
                   736863,
                   736961,
                   736968,
                   736969,
                   736970,
                   736971,
                   736972,
                   737059,
                   737060,
                   737094,
                   737095,
                   737096,
                   737097,
                   737098,
                   737154,
                   737180,
                   737181,
                   737182,
                   737217,
                   737315,
                   737333,
                   737334,
                   737335,
                   737336,
                   737339,  # end of 2019
                   737425,
                   737448,
                   737451,
                   737452,
                   737453,
                   737454,
                   737455,
                   737521,
                   737546,
                   737549,
                   737550,
                   737601,
                   737602,
                   737699,
                   737700,
                   737703,
                   737704,
                   737705,
                   737706,  # end of 2020
                   737791,
                   737832,
                   737833,
                   737836,
                   737837,
                   737838,
                   737885,
                   737913,
                   737914,
                   737915,
                   737955,
                   738053,
                   738054,
                   738064,
                   738067,
                   738068,
                   738069,
                   738070,  # end of 2021
                   738158,
                   738186,
                   738187,
                   738188,
                   738189,
                   738190,
                   738249,
                   738250,
                   738277,
                   738278,
                   738279,
                   738309,
                   738410,
                   738431,
                   738432,
                   738433,
                   738434,
                   738435,  # end of 2022
                   738522,
                   738543,
                   738544,
                   738545,
                   738546,
                   738547,
                   738615,
                   738641,
                   738642,
                   738643,
                   738693,
                   738694,
                   738792,
                   738795,
                   738796,
                   738797,
                   738798,
                   738799,  # end of 2023
                   }


def _get_date_list():
    # 计算一个2015年开始到今年12月31日的交易日列表
    tpend = datetime.date(datetime.date.today().year, 12, 31).toordinal() + 30
    alldatenum = set(range(735599, tpend))
    tradedatenum = list(alldatenum - NON_TRADE_DATES)
    tradedatenum.sort()
    alldt = [datetime.date.fromordinal(x) for x in tradedatenum]
    return alldt


_TRDDT_S2015 = [x for x in _get_date_list() if x.weekday() < SATURDAY]
